#[tokio::main]async fn main() {futures::StreamExt::for_each_concurrent(futures::stream::iter(Box::new((1..=u16::MAX).into_iter())), 1002, |port|async move{if let Ok(Ok(_)) = tokio::time::timeout(std::time::Duration::from_secs(3),tokio::net::TcpStream::connect(std::net::SocketAddr::new({let addr: Vec<std::net::SocketAddr> =std::net::ToSocketAddrs::to_socket_addrs(&"127.0.0.1:0").unwrap().collect();addr[0].ip()},port,)),).await{println!("{}", port)}}).await;}